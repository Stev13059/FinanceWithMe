"use strict";(self["webpackChunkfinance_with_me"]=self["webpackChunkfinance_with_me"]||[]).push([[7],{98581:function(e,t,r){r.d(t,{A:function(){return c}});r(44114);var s=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"padding-left":"100px"}},[t("a-row",[t("a-col",{attrs:{span:12}},[t("div",{staticClass:"bgimg"})]),t("a-col",{staticClass:"loginRIght",attrs:{span:12}},[t("div",{staticClass:"login_header"},[t("img",{attrs:{src:r(82806),alt:""}}),t("span",[e._v(e._s("login"===e.type?"Finance With Me":"Sign Up"))])]),t("div",{staticClass:"login_form"},[t("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[t("a-form-item",[t("span",[e._v("Username")]),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"Please enter your account number!"}]}],expression:"['username', { rules: [{ required: true, message: 'Please enter your account number!' }] }]"}],attrs:{placeholder:"username"}})],1),t("a-form-item",[t("span",[e._v("Password")]),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"Please enter your password!"}]}],expression:"['password', { rules: [{ required: true, message: 'Please enter your password!' }] }]"}],attrs:{type:"password",placeholder:"password"}})],1),t("a-button",{attrs:{size:"large",loading:e.btnLoading},on:{click:e.handleSubmit}},[e._v(e._s("login"===e.type?"Login":"Sign Up"))])],1)],1),"login"===e.type?t("div",{staticClass:"login_footer"},[t("div",{staticStyle:{width:"100%",display:"flex"}},[t("span",{staticClass:"link-left"}),t("span",[e._v("Don't have an account?")]),t("span",{staticClass:"link-right"})]),t("a-button",{attrs:{size:"large"},on:{click:function(t){return e.$router.push("/register")}}},[e._v("Sign Up")])],1):e._e()])],1)],1)},a=[],n=r(6698),o={name:"Login",props:["type"],data(){return{form:this.$form.createForm(this,{name:"coordinated"}),btnLoading:!1}},mounted(){},methods:{login(e){this.btnLoading=!0,"login"===this.type?(0,n.Gq)(e).then((t=>{t.userId&&(localStorage.setItem("userId",t.userId),localStorage.setItem("username",e.username),this.$message.success("Login successful"),this.$router.push("/"))})).finally((()=>{this.btnLoading=!1})):(0,n.GP)(e).then((()=>{this.$router.push("/login"),this.$message.success("Register successful")})).finally((()=>{this.btnLoading=!1}))},handleSubmit(){this.form.validateFields(((e,t)=>{e||this.login(t)}))}}},i=o,u=r(81656),l=(0,u.A)(i,s,a,!1,null,"21eb9b1c",null),c=l.exports},61007:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var s=function(){var e=this,t=e._self._c;return t("div",[t("LoginForm",{attrs:{type:"register"}})],1)},a=[],n=r(98581),o={components:{LoginForm:n.A}},i=o,u=r(81656),l=(0,u.A)(i,s,a,!1,null,"340ef37c",null),c=l.exports},6698:function(e,t,r){r.d(t,{vs:function(){return O},m5:function(){return $},Gh:function(){return _},$3:function(){return w},sE:function(){return S},dq:function(){return T},qx:function(){return P},Qs:function(){return y},J6:function(){return b},Gq:function(){return u},GP:function(){return l},Js:function(){return v},fL:function(){return f},yX:function(){return h},c_:function(){return g},Nz:function(){return m},BZ:function(){return p},OK:function(){return d},aM:function(){return c}});r(81454);var s=r(25257);const a={headers:{"Content-Type":"application/json;charset=utf-8"},baseURL:"https://financewithme.azurewebsites.net/api",code:"WePrywqwpoUEGrZA0UTEUvfqibt8H0QmOhBDmHzVbySFAzFu4V2R3w=="},n=e=>(e.response&&s.A.error(e.response.statusText||"The server is busy, please try again later."),e.statusText&&s.A.error(e.statusText||"The server is busy, please try again later."),Promise.reject(e)),o=e=>{const t={...e};if(t.url=`${a.baseURL}${e.url}`,-1==t.url.indexOf("/user/login")&&-1==t.url.indexOf("/user/register")){const t=localStorage.getItem("userId");t&&(e.params?Object.assign(e.params,{userId:t}):e.params={userId:t})}return e.params&&("GET"===e.method.toUpperCase()?t.url=`${t.url}?${Object.keys(e.params).map((t=>`${t}=${e.params[t]}`)).join("&")}`:"POST"===e.method.toUpperCase()&&(t.body=JSON.stringify(e.params)),delete t.params),t.url=t.url.indexOf("?")>-1?`${t.url}&code=${a.code}`:`${t.url}?code=${a.code}`,t},i=async(e,t={})=>{const r=o({...a,...t,url:e}),i=await fetch(r.url,{...r});if(i.ok){const e=await i.json();return e.result||0==e.code?Promise.resolve(e):(s.A.error(e.msg||"error"),Promise.reject())}return await n(i)},u=(e,t)=>i("/user/login",{method:"GET",params:e,...t}),l=(e,t)=>i("/user/register",{method:"POST",params:e,...t}),c=(e,t)=>i("/transaction/list",{method:"GET",params:e,...t}),m=(e,t)=>i("/transaction/add",{method:"POST",params:e,...t}),d=(e,t)=>i("/transaction/edit",{method:"POST",params:e,...t}),p=(e,t)=>i("/transaction/delete",{method:"POST",params:e,...t}),g=(e,t)=>i("/goals/list",{method:"GET",params:e,...t}),h=(e,t)=>i("/goals/edit",{method:"POST",params:e,...t}),f=(e,t)=>i("/goals/delete",{method:"POST",params:e,...t}),v=(e,t)=>i("/goals/add",{method:"POST",params:e,...t}),y=(e,t)=>i("/group/list",{method:"GET",params:e,...t}),b=(e,t)=>i("/group/userList",{method:"GET",params:e,...t}),T=(e,t)=>i("/group/disband",{method:"POST",params:e,...t}),S=(e,t)=>i("/group/addUser",{method:"POST",params:e,...t}),w=(e,t)=>i("/group/add",{method:"POST",params:e,...t}),P=(e,t)=>i("/group/exit",{method:"POST",params:e,...t}),_=(e,t)=>i("/analytics/total",{method:"GET",params:e,...t}),O=(e,t)=>i("/analytics/exchangeRate",{method:"GET",params:e,...t}),$=(e,t)=>i("/analytics/proportion",{method:"get",params:e,...t})},82806:function(e,t,r){e.exports=r.p+"img/logo.0c6c36f4.png"}}]);
//# sourceMappingURL=7.a3ee892e.js.map