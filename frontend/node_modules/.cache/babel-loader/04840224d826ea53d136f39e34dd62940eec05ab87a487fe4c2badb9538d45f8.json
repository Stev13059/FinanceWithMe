{"ast":null,"code":"import \"core-js/modules/esnext.iterator.map.js\";\nimport EchartsPie from './components/EchartsPie.vue';\nimport AnalyticsTable from './components/AnalyticsTable.vue';\nimport { analytics_total, analytics_exchangeRate, analytics_proportion } from '@/api/api';\nexport default {\n  components: {\n    EchartsPie,\n    AnalyticsTable\n  },\n  mounted() {\n    analytics_total().then(res => {\n      this.totalIncome = res.data.totalIncome;\n      this.totalExpenses = res.data.totalExpenses;\n    });\n    analytics_exchangeRate().then(res => {\n      this.exchangeRate = res.data;\n    });\n    analytics_proportion().then(res => {\n      this.proportion = res.data.map(m => ({\n        name: m.name,\n        value: m.num\n      }));\n    });\n  },\n  data() {\n    return {\n      totalIncome: 0,\n      totalExpenses: 0,\n      exchangeRate: {},\n      proportion: []\n    };\n  },\n  computed: {\n    maxTotal() {\n      return Math.max(this.totalIncome, this.totalExpenses);\n    }\n  }\n};","map":{"version":3,"names":["EchartsPie","AnalyticsTable","analytics_total","analytics_exchangeRate","analytics_proportion","components","mounted","then","res","totalIncome","data","totalExpenses","exchangeRate","proportion","map","m","name","value","num","computed","maxTotal","Math","max"],"sources":["src/views/analytics/index.vue"],"sourcesContent":["<script>\r\nimport EchartsPie from './components/EchartsPie.vue'\r\nimport AnalyticsTable from './components/AnalyticsTable.vue'\r\nimport { analytics_total, analytics_exchangeRate, analytics_proportion } from '@/api/api'\r\nexport default {\r\n  components: { EchartsPie, AnalyticsTable },\r\n  mounted() {\r\n    analytics_total().then((res) => {\r\n      this.totalIncome = res.data.totalIncome\r\n      this.totalExpenses = res.data.totalExpenses\r\n    })\r\n    analytics_exchangeRate().then((res) => {\r\n      this.exchangeRate = res.data\r\n    })\r\n    analytics_proportion().then((res) => {\r\n      this.proportion = res.data.map(m => ({\r\n        name: m.name,\r\n        value: m.num\r\n      }))\r\n    })\r\n  },\r\n  data() {\r\n    return {\r\n      totalIncome: 0,\r\n      totalExpenses: 0,\r\n      exchangeRate: {},\r\n      proportion: []\r\n    }\r\n  },\r\n  computed: {\r\n    maxTotal() {\r\n      return Math.max(this.totalIncome, this.totalExpenses)\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<template>\r\n  <div class=\"analytics_content\">\r\n    <div class=\"analytics_left\">\r\n      <div class=\"dataProgress\">\r\n        <div class=\"totalData\">\r\n          <a-card>\r\n            <span style=\"font-size: 25px;color:green;\">Total Incomes</span><span\r\n              style=\"font-size: 18px;font-weight: 700;\">{{ totalIncome }}</span>\r\n          </a-card>\r\n          <a-card>\r\n            <span style=\"font-size: 25px;color:red;\">Total Expenses</span><span\r\n              style=\"font-size: 18px;font-weight: 700;\">{{ totalExpenses }}</span>\r\n          </a-card>\r\n        </div>\r\n        <div class=\"progress\">\r\n          <div><span style=\"color: red\">out</span><a-progress class=\"p-out\" :percent=\"totalExpenses / maxTotal * 100\" strokeColor=\"red\" :strokeWidth=20\r\n              :format=\"percent => `£${totalExpenses}`\" /></div>\r\n          <div><span style=\"color: green\">in</span><a-progress class=\"p-in\" :percent=\"totalIncome / maxTotal * 100\" strokeColor=\"green\" :strokeWidth=\"20\"\r\n              :format=\"percent => `£${totalIncome}`\" /></div>\r\n        </div>\r\n      </div>\r\n      <div class=\"echarts\">\r\n        <EchartsPie v-if=\"proportion.length > 0\" :chartData=\"proportion\"></EchartsPie>\r\n      </div>\r\n    </div>\r\n    <div class=\"analytics_right\">\r\n      <analytics-table :dataSource=\"[exchangeRate]\"></analytics-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"less\">\r\n.analytics_content {\r\n  display: flex;\r\n  height: 100%;\r\n\r\n  .analytics_left {\r\n    flex: 1;\r\n    height: 100%;\r\n    border-right: 1px solid #ccc;\r\n\r\n    .dataProgress {\r\n      display: flex;\r\n      flex-flow: column;\r\n      justify-content: space-between;\r\n      padding: 10px;\r\n\r\n      .totalData {\r\n        flex: 2;\r\n        display: flex;\r\n        justify-content: space-around;\r\n\r\n        .ant-card {\r\n          width: 200px;\r\n          height: 150px;\r\n          box-shadow: 0 0 10px #ccc;\r\n\r\n          :deep(.ant-card-body) {\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            padding: 0;\r\n            height: 100%;\r\n          }\r\n        }\r\n      }\r\n\r\n      .progress {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        flex: 1;\r\n        margin-top: 20px;\r\n\r\n        >div {\r\n          width: 100%;\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        span {\r\n          display: inline-block;\r\n          text-align: center;\r\n          width: 35px;\r\n          font-size: 20px;\r\n\r\n        }\r\n\r\n        .ant-progress {\r\n          width: 90%;\r\n        }\r\n      }\r\n    }\r\n\r\n    .echarts {\r\n      border-top: 1px solid #ccc\r\n    }\r\n\r\n  }\r\n\r\n  .analytics_right {\r\n    flex: 1\r\n  }\r\n}\r\n\r\n/deep/ .p-out .ant-progress-text {\r\n  color: red !important;\r\n}\r\n/deep/ .p-in .ant-progress-text {\r\n  color: green !important;\r\n}\r\n</style>"],"mappings":";AACA,OAAAA,UAAA;AACA,OAAAC,cAAA;AACA,SAAAC,eAAA,EAAAC,sBAAA,EAAAC,oBAAA;AACA;EACAC,UAAA;IAAAL,UAAA;IAAAC;EAAA;EACAK,QAAA;IACAJ,eAAA,GAAAK,IAAA,CAAAC,GAAA;MACA,KAAAC,WAAA,GAAAD,GAAA,CAAAE,IAAA,CAAAD,WAAA;MACA,KAAAE,aAAA,GAAAH,GAAA,CAAAE,IAAA,CAAAC,aAAA;IACA;IACAR,sBAAA,GAAAI,IAAA,CAAAC,GAAA;MACA,KAAAI,YAAA,GAAAJ,GAAA,CAAAE,IAAA;IACA;IACAN,oBAAA,GAAAG,IAAA,CAAAC,GAAA;MACA,KAAAK,UAAA,GAAAL,GAAA,CAAAE,IAAA,CAAAI,GAAA,CAAAC,CAAA;QACAC,IAAA,EAAAD,CAAA,CAAAC,IAAA;QACAC,KAAA,EAAAF,CAAA,CAAAG;MACA;IACA;EACA;EACAR,KAAA;IACA;MACAD,WAAA;MACAE,aAAA;MACAC,YAAA;MACAC,UAAA;IACA;EACA;EACAM,QAAA;IACAC,SAAA;MACA,OAAAC,IAAA,CAAAC,GAAA,MAAAb,WAAA,OAAAE,aAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}